## Preamble

    EIP: 649 ? 669
    Title: Metropolis Difficulty Bomb Delay
    Authors: Afri Schoedon (Champion), Vitalik Buterin (Specification)
    Type: Standard Track
    Category: Core
    Status: Draft
    Created: 2017-06-21

## Simple Summary
The average block times are increasing due to the difficulty bomb (also as known as the "ice age") slowly accelerating. This EIP proposes to delay the difficulty bomb for approximately one and a half year.

## Abstract
After `METROPOLIS_FORK_BLKNUM` the client will simply calculate the difficulty based on a fake block number suggesting the client that the difficulty bomb is adjusting around 3 million blocks later than previously specified with the Homestead fork.

## Motivation
The Casper development and switch to Proof-of-Stake is delayed, the Proof-of-Work should be feasible for miners and create new blocks every 15 seconds on average for another 1.4 years.

## Specification
For the purposes of `calc_difficulty`, we simply replace the use of `block.number`, as used in the exponential ice age component, with the formula:

    fake_block_number = block.number - 3000000 if block.number >= METROPOLIS_FORK_BLKNUM else block.number

## Rationale
This will delay the ice age by 42 million seconds ~= 1.4 years, so we would be back at 30 second block times at the end of 2018. An alternate proposal was that we add special rules to the difficulty calculation to effectively _pause_ the difficulty between different blocks. That would lead to similar results.

This was previously discussed at All Core Devs Meeting [#09](https://github.com/ethereum/pm/blob/master/All%20Core%20Devs%20Meetings/Meeting%209.md#metropolis-timing-and-roadmap-discussion), [#12](https://github.com/ethereum/pm/blob/master/All%20Core%20Devs%20Meetings/Meeting%2012.md#5-metropolis-update), [#13](https://github.com/ethereum/pm/blob/master/All%20Core%20Devs%20Meetings/Meeting%2013.md#3-eip-186-reduce-eth-issuance-before-proof-of-stake-hudson), and [#14](https://github.com/ethereum/pm/blob/master/All%20Core%20Devs%20Meetings/Meeting%2014.md#1-eip-186-reduce-eth-issuance-before-proof-of-stake-core-devs). Consensus on the specification was achieved in All Core Devs Meeting [#19](https://github.com/ethereum/pm/blob/master/All%20Core%20Devs%20Meetings/Meeting%2019.md) and specification drafted in EIP issue [#649](https://github.com/ethereum/EIPs/issues/649).

## Backwards Compatibility
This EIP is not forward compatible and introduces backwards incompatibilities in the difficulty calculation. Therefore, it should be included in a scheduled hardfork at a certain block number. It's suggested to include this EIP in the Metropolis fork.

## Test Cases
No test cases exist yet. But will be easy to set up based on the rules specified above.

## Implementation
None existing client implementation exists yet.

## Copyright
Copyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).
